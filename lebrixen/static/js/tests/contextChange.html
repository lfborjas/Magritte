<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!-- <script src="http://code.jquery.com/jquery-latest.js"></script>  -->
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/jquery.min.js"></script>
  <script type="text/javascript" src="../diff_match_patch.js"></script>
  <script type="text/javascript" src="../service/recommender.js"></script>
  <link rel="stylesheet" href="http://github.com/jquery/qunit/raw/master/qunit/qunit.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="../../css/service/recommender.css" type="text/css" media="screen" />
  <script type="text/javascript" src="http://github.com/jquery/qunit/raw/master/qunit/qunit.js"></script>

  <script>
	$(document).ready(function(){
	/*Configure the recommender*/
	var _service_root="http://localhost:8000/";
	RECOMMENDER._options.data.content='#content';
	$(RECOMMENDER._options.data.content).bind('keyup',RECOMMENDER.detectContextChange);
	$(RECOMMENDER._options.data.content).bind('paste', function(e){
		setTimeout("RECOMMENDER.detectContextChange()", 20);
	});
	//change doQuery with a dummy function:
	RECOMMENDER.doQuery = $.noop ;
	
	/*End of recommender configuration*/ 

	/**Tests for the contextChange function. Success or error are determined by changes to the RECOMMENDER
	*  variables _lastLength and _lastContext: if they're equal to the new value, then the query was done, 
	*  if not, then something went wrong.
	*/
	test("a basic test example", function() {
	  ok( true, "this test is fine" );
	  var value = "hello";
	  equals( "hello", value, "We expect value to be hello" );
	});

	module("Module A");

	test("first test within module", function() {
	  ok( true, "all pass" );
	});

	test("second test within module", function() {
	  ok( true, "all pass" );
	});

	module("Module B");

	test("some other test", function() {
	  expect(2);
	  equals( true, false, "failing test" );
	  equals( true, true, "passing test" );
	});

	  });
  </script>
  
</head>
<body>
  <h1 id="qunit-header">QUnit example</h1>
 <h2 id="qunit-banner"></h2>
 <h2 id="qunit-userAgent"></h2>
 <ol id="qunit-tests"></ol>
 <div id="test-interface">
	<textarea id="content"></textarea>	
 </div>
</body>
</html>
